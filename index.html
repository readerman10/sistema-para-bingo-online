<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5.0" />
  
  <!-- Primary Meta Tags -->
  <title>Sorteio de Bingo Online Grátis - Gerencie Seu Bingo com Facilidade</title>
  <meta name="title" content="Sorteio de Bingo Online Grátis - Gerencie Seu Bingo com Facilidade">
  <meta name="description" content="Sorteio de bingo online grátis e completo. Gerencie participantes, prêmios e vencedores. Interface moderna, sem cadastro, funciona offline. Perfeito para eventos e sorteios.">
  <meta name="keywords" content="sorteio de bingo online grátis, bingo online, sorteio bingo, gerador de bingo, bingo virtual, sorteio online grátis, painel de bingo, bingo sem cadastro, bingo grátis, sorteio aleatório bingo">
  <meta name="author" content="Painel do Bingo">
  <meta name="robots" content="index, follow">
  <meta name="language" content="Portuguese">
  <meta name="revisit-after" content="7 days">
  <link rel="canonical" href="https://seudominio.com/sorteio-bingo-online-gratis">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://seudominio.com/sorteio-bingo-online-gratis">
  <meta property="og:title" content="Sorteio de Bingo Online Grátis - Gerencie Seu Bingo">
  <meta property="og:description" content="Sorteio de bingo online grátis. Interface moderna, sem cadastro, funciona offline. Gerencie participantes, prêmios e vencedores facilmente.">
  <meta property="og:image" content="https://seudominio.com/og-image-bingo.png">
  <meta property="og:locale" content="pt_BR">
  <meta property="og:site_name" content="Painel do Bingo">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://seudominio.com/sorteio-bingo-online-gratis">
  <meta property="twitter:title" content="Sorteio de Bingo Online Grátis - Gerencie Seu Bingo">
  <meta property="twitter:description" content="Sorteio de bingo online grátis. Interface moderna, sem cadastro, funciona offline.">
  <meta property="twitter:image" content="https://seudominio.com/twitter-image-bingo.png">
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#0b1020">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Sorteio de Bingo Online Grátis",
    "description": "Aplicativo web gratuito para gerenciar sorteios de bingo online. Gerencie participantes, prêmios e vencedores com interface moderna e intuitiva.",
    "url": "https://seudominio.com/sorteio-bingo-online-gratis",
    "applicationCategory": "GameApplication",
    "operatingSystem": "Web Browser",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "BRL"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "150"
    },
    "featureList": [
      "Sorteio aleatório de bolas",
      "Gerenciamento de participantes",
      "Gerenciamento de prêmios",
      "Registro de vencedores",
      "Exportação de dados",
      "Interface responsiva",
      "Funciona offline"
    ]
  }
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [{
      "@type": "Question",
      "name": "O sorteio de bingo online é realmente grátis?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Sim! Nosso sorteio de bingo online é 100% gratuito, sem necessidade de cadastro, sem custos ocultos e sem limites de uso."
      }
    },{
      "@type": "Question",
      "name": "Preciso de internet para usar o sorteio de bingo?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Você precisa de internet apenas para carregar a página inicial. Após isso, o aplicativo funciona completamente offline."
      }
    },{
      "@type": "Question",
      "name": "Posso exportar os dados do sorteio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Sim! Você pode exportar todos os dados do sorteio em formato JSON para backup ou uso posterior."
      }
    },{
      "@type": "Question",
      "name": "Quantos participantes posso adicionar?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Não há limite de participantes. Você pode adicionar quantos participantes precisar para seu bingo."
      }
    }]
  }
  </script>
  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#0f1c3a;
      --card:#101a33cc;
      --card2:#0f1830cc;
      --text:#eaf0ff;
      --muted:#a9b4d6;
      --line:#ffffff1a;
      --good:#7CFFB2;
      --warn:#FFD37C;
      --bad:#FF7C9B;
      --accent:#7CC7FF;
      --accent2:#B27CFF;
      --shadow: 0 20px 60px #00000066;
      --radius: 18px;
      --radius2: 26px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% 10%, #2b3cff33 0%, transparent 60%),
        radial-gradient(900px 700px at 90% 20%, #b27cff2e 0%, transparent 55%),
        radial-gradient(900px 700px at 40% 95%, #7cc7ff2b 0%, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    /* Subtle moving confetti dots */
    .sparkles{
      position:fixed; inset:0; pointer-events:none; opacity:.35; z-index:0;
      background-image:
        radial-gradient(circle at 10% 20%, #ffffff40 0 2px, transparent 3px),
        radial-gradient(circle at 80% 30%, #ffffff2e 0 2px, transparent 3px),
        radial-gradient(circle at 30% 80%, #ffffff25 0 2px, transparent 3px),
        radial-gradient(circle at 60% 70%, #ffffff25 0 2px, transparent 3px);
      background-size: 240px 240px, 260px 260px, 280px 280px, 300px 300px;
      animation: drift 18s linear infinite;
    }
    @keyframes drift{
      0%{transform:translate3d(0,0,0)}
      100%{transform:translate3d(-120px, 90px,0)}
    }

    .app{
      position:relative; z-index:1;
      max-width: 1280px;
      margin: 0 auto;
      padding: 18px 18px 70px;
    }

    header{
      display:flex; gap:16px; align-items:center; justify-content:space-between;
      padding: 14px 14px 10px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .brand{
      display:flex; gap:12px; align-items:center;
      min-width: 280px;
    }
    .logo{
      width:46px; height:46px; border-radius:14px;
      background:
        radial-gradient(circle at 30% 30%, #ffffffaa 0 6px, transparent 10px),
        radial-gradient(circle at 70% 60%, #ffffff7a 0 5px, transparent 10px),
        linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 18px 40px #00000066;
      position:relative;
      overflow:hidden;
    }
    .logo::after{
      content:"";
      position:absolute; inset:-30%;
      background: linear-gradient(90deg, transparent, #ffffff55, transparent);
      transform: rotate(25deg);
      animation: shine 4s ease-in-out infinite;
    }
    @keyframes shine{
      0%,55%{transform:translateX(-60%) rotate(25deg); opacity:.0}
      65%{opacity:.9}
      100%{transform:translateX(80%) rotate(25deg); opacity:0}
    }
    .titleWrap{display:flex; flex-direction:column; gap:2px}
    .title{
      font-size: 16px;
      letter-spacing:.6px;
      font-weight: 780;
      text-transform:uppercase;
    }
    .subtitle{
      font-size: 12px;
      color: var(--muted);
    }

    .headerRight{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end;
    }

    .pill{
      display:flex; align-items:center; gap:10px;
      padding: 10px 16px;
      border-radius: 999px;
      border:1px solid var(--line);
      background:#0b1329aa;
      backdrop-filter: blur(8px);
      user-select:none;
      min-width: 0;
      flex-shrink: 1;
    }
    .pill strong{font-size:12px; white-space: nowrap;}
    .pill span{font-size:12px; color:var(--muted); white-space: nowrap;}
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--good);
      box-shadow: 0 0 0 4px #7cffb214;
    }
    .dot.warn{background:var(--warn); box-shadow: 0 0 0 4px #ffd37c14;}
    .dot.bad{background:var(--bad); box-shadow: 0 0 0 4px #ff7c9b14;}

    .btn{
      border:1px solid var(--line);
      background: linear-gradient(180deg, #0f1833, #0b1228);
      color:var(--text);
      border-radius: 14px;
      padding: 10px 12px;
      font-weight: 700;
      font-size: 12px;
      letter-spacing:.2px;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); filter: brightness(1.06); border-color:#ffffff2a;}
    .btn:active{transform: translateY(0px) scale(.99);}
    .btn.primary{
      border-color:#7cc7ff33;
      background: linear-gradient(180deg, #17345e, #0d2041);
    }
    .btn.danger{
      border-color:#ff7c9b33;
      background: linear-gradient(180deg, #5a1b2e, #2a0f18);
    }
    .btn.ghost{
      background: transparent;
    }
    .btn[disabled]{opacity:.45; cursor:not-allowed; transform:none;}

    .grid{
      margin-top: 14px;
      display:flex;
      flex-direction:column;
      gap: 14px;
    }
    @media (max-width: 1100px){
      .brand{min-width:auto;}
    }

    .card{
      border:1px solid var(--line);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .cardHeader{
      padding: 14px 14px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      border-bottom:1px solid var(--line);
    }
    .cardHeader h2{
      margin:0;
      font-size: 13px;
      letter-spacing:.5px;
      text-transform:uppercase;
    }
    .cardHeader p{
      margin:0;
      font-size: 12px;
      color: var(--muted);
    }
    .cardBody{
      padding: 14px;
      flex:1;
      display:flex;
      flex-direction:column;
      min-height:0;
    }

    /* Big ball stage - vertical layout */
    .stage{
      display:flex;
      flex-direction:column;
      gap: 14px;
    }

    /* Sorteio layout: bola grande + grade lado a lado */
    .drawingSection{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      align-items:stretch;
    }
    @media (max-width: 1200px){
      .drawingSection{grid-template-columns:1fr;}
    }

    .bigBallWrap{
      position:relative;
      border-radius: var(--radius2);
      border:1px solid var(--line);
      background:
        radial-gradient(140px 140px at 35% 35%, #ffffff55 0%, transparent 60%),
        radial-gradient(220px 220px at 60% 70%, #ffffff22 0%, transparent 60%),
        linear-gradient(180deg, #0a1230, #070e22);
      min-height: 240px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .bigBall{
      width: 180px;
      height: 180px;
      border-radius: 50%;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      background:
        radial-gradient(circle at 30% 30%, #ffffffaa 0 14px, transparent 40px),
        radial-gradient(circle at 70% 75%, #ffffff44 0 16px, transparent 50px),
        linear-gradient(135deg, #FFD700, #FFA500);
      box-shadow: 0 30px 80px #00000066;
      transform: translateZ(0);
    }
    .bigBall::after{
      content:"";
      position:absolute; inset:-35%;
      background: radial-gradient(circle at 50% 50%, #ffffff44 0%, transparent 60%);
      transform: rotate(18deg);
      opacity:.7;
    }
    .bigBallNumber{
      position:relative;
      font-size: 72px;
      font-weight: 900;
      letter-spacing: -2px;
      color: #1a1a1a;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    /* History balls minimalista no header */
    .historyBalls{
      display:flex;
      gap: 6px;
      align-items:center;
      justify-content:flex-end;
    }
    .historyBall{
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 800;
      font-size: 12px;
      border:1px solid rgba(255, 255, 255, 0.2);
      background:
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.6) 0 4px, transparent 10px),
        radial-gradient(circle at 70% 75%, rgba(255, 255, 255, 0.3) 0 6px, transparent 12px),
        linear-gradient(135deg, #FFD700, #FFA500);
      color: #1a1a1a;
      position:relative;
      flex-shrink:0;
      box-shadow: none;
    }

    /* pop animation */
    .pop{
      animation: pop .55s cubic-bezier(.22, 1.2, .2, 1);
    }
    @keyframes pop{
      0%{transform: scale(.8) rotate(-6deg); filter: brightness(1.1)}
      50%{transform: scale(1.08) rotate(2deg)}
      100%{transform: scale(1) rotate(0deg); filter: brightness(1)}
    }

    .floaty{
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:.35;
      background-image:
        radial-gradient(circle at 20% 30%, #7cc7ff40 0 6px, transparent 16px),
        radial-gradient(circle at 70% 35%, #b27cff35 0 6px, transparent 18px),
        radial-gradient(circle at 40% 75%, #7cffb230 0 6px, transparent 18px);
      animation: floaty 9s ease-in-out infinite;
    }
    @keyframes floaty{
      0%,100%{transform: translateY(0px)}
      50%{transform: translateY(-10px)}
    }

    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      padding: 12px;
      border-radius: var(--radius2);
      border:1px solid var(--line);
      background:#0b1329aa;
    }
    .field{
      display:flex; gap:8px; align-items:center; flex-wrap:wrap;
    }
    .field label{
      font-size:12px;
      color:var(--muted);
      user-select:none;
    }
    .input, select{
      appearance:none;
      border:1px solid var(--line);
      background:#070e22;
      color:var(--text);
      padding: 10px 10px;
      border-radius: 14px;
      outline:none;
      min-width: 120px;
      font-weight: 700;
      font-size: 12px;
    }
    .input::placeholder{color:#7b87ad}
    .input.small{min-width: 90px}
    select{min-width: 160px}
    .hint{
      font-size: 11px;
      color: var(--muted);
      margin-top: 10px;
      line-height: 1.35;
    }

    /* Balls grid */
    .ballsGrid{
      display:grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 10px;
      align-content:start;
      grid-auto-rows: auto;
      min-height: 0;
      max-width: 100%;
      width: 100%;
      margin: 0 auto;
      padding: 20px;
    }
    @media (max-width: 1100px){
      .ballsGrid{
        grid-template-columns: repeat(8, 1fr);
        gap: 12px;
      }
    }
    @media (max-width: 650px){
      .ballsGrid{
        grid-template-columns: repeat(6, 1fr);
        gap: 10px;
      }
    }
    .ball{
      aspect-ratio: 1;
      width: 100%;
      max-width: 100%;
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      font-size: 14px;
      border:1px solid #ffffff22;
      background: linear-gradient(180deg, #0f1833, #0b1228);
      color: #d7e2ff;
      user-select:none;
      position:relative;
      overflow:hidden;
      transition: transform .12s ease, filter .12s ease;
    }
    .ball:hover{transform: translateY(-1px); filter: brightness(1.06);}
    .ball.drawn{
      background:
        radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.6) 0 4px, transparent 10px),
        radial-gradient(circle at 70% 75%, rgba(255, 255, 255, 0.3) 0 6px, transparent 12px),
        linear-gradient(135deg, #FFD700, #FFA500);
      color: #1a1a1a;
      border-color:rgba(255, 255, 255, 0.3);
    }
    .ball.drawn::after{
      content:"";
      position:absolute; inset:-35%;
      background: radial-gradient(circle at 40% 30%, rgba(255, 255, 255, 0.5) 0%, transparent 55%);
      transform: rotate(20deg);
      opacity:.8;
    }
    .ball.last{
      outline: 2px solid #ffffffaa;
      box-shadow: 0 0 0 5px #ffffff1c, 0 12px 40px #00000055;
      transform: translateY(-1px) scale(1.03);
    }

    /* Lists */
    .twoCols{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 900px){
      .twoCols{grid-template-columns:1fr;}
    }
    .listBox{
      border:1px solid var(--line);
      background:#0b1329aa;
      border-radius: var(--radius2);
      padding: 12px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height:0;
    }
    .listHeader{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom: 10px;
    }
    .listHeader strong{
      font-size: 12px;
      letter-spacing:.5px;
      text-transform:uppercase;
    }
    .listHeader span{
      font-size: 12px;
      color: var(--muted);
    }
    .list{
      display:flex;
      flex-direction:column;
      gap: 8px;
      max-height: 280px;
      overflow:auto;
      padding-right: 4px;
    }
    .item{
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      border:1px solid #ffffff14;
      background: linear-gradient(180deg, #0f1833, #0b1228);
      border-radius: 16px;
      padding: 10px;
    }
    .item .main{
      display:flex; flex-direction:column; gap:3px;
    }
    .item .main b{
      font-size: 13px;
      letter-spacing: .2px;
    }
    .item .main small{
      font-size: 11px;
      color: var(--muted);
      line-height: 1.25;
    }
    .tag{
      font-size: 11px;
      font-weight: 900;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid #ffffff22;
      background:#070e22;
      color:var(--text);
      white-space:nowrap;
      user-select:none;
      align-self:flex-start;
    }
    .tag.win{background: linear-gradient(135deg, #7cffb2, #7cc7ff); color:#061025; border-color:#ffffff55;}
    .tag.prize{background: linear-gradient(135deg, #ffd37c, #b27cff); color:#170a1d; border-color:#ffffff55;}
    .tag.note{background:#0b1329aa}

    .rowActions{
      display:flex; gap:8px; align-items:center; justify-content:flex-end;
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: #0b1329dd;
      border:1px solid var(--line);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 999px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      font-size: 12px;
      font-weight: 700;
      opacity:0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
      z-index: 50;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }

    /* Modal */
    .modalOverlay{
      position:fixed; inset:0;
      background:#00000088;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 60;
    }
    .modalOverlay.show{display:flex;}
    .modal{
      width:min(720px, 100%);
      border:1px solid var(--line);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
    }
    .modalHeader{
      padding: 14px;
      border-bottom:1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .modalHeader b{
      font-size: 13px;
      letter-spacing:.5px;
      text-transform:uppercase;
    }
    .modalBody{padding: 14px;}
    .modalFooter{
      padding: 14px;
      border-top:1px solid var(--line);
      display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;
    }

    .hr{
      height:1px;
      background: var(--line);
      margin: 12px 0;
    }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      background:#070e22;
      border:1px solid #ffffff22;
      padding: 4px 7px;
      border-radius: 10px;
      color:#dce6ff;
      user-select:none;
      white-space:nowrap;
    }

    /* Lightweight celebration burst */
    .burst{
      position:absolute;
      left:50%; top:50%;
      width:10px; height:10px;
      transform: translate(-50%,-50%);
      pointer-events:none;
      z-index: 10;
    }
    .burst i{
      position:absolute;
      left:0; top:0;
      width:8px; height:8px;
      border-radius: 2px;
      background: #ffffff;
      opacity:0;
      animation: burst 650ms ease-out forwards;
    }
    @keyframes burst{
      0%{transform: translate(0,0) scale(.7) rotate(0deg); opacity:.0}
      15%{opacity:.95}
      100%{transform: translate(var(--dx), var(--dy)) scale(0.9) rotate(120deg); opacity:0}
    }

    /* Scrollbar */
    .list::-webkit-scrollbar{width:8px}
    .list::-webkit-scrollbar-thumb{background:#ffffff22; border-radius:999px}
    .list::-webkit-scrollbar-track{background:transparent}
  </style>
</head>
<body>
  <!-- SEO Content - Hidden but accessible to search engines -->
  <div style="position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
    <h1>Sorteio de Bingo Online Grátis - Gerencie Seu Bingo com Facilidade</h1>
    <p>Nosso <strong>sorteio de bingo online grátis</strong> é uma ferramenta completa e gratuita para gerenciar seus sorteios de bingo. Com interface moderna e intuitiva, você pode realizar sorteios profissionais sem precisar de cadastro ou instalação de software.</p>
    
    <h2>O que é um Sorteio de Bingo Online Grátis?</h2>
    <p>Um <strong>sorteio de bingo online grátis</strong> é uma aplicação web que permite realizar sorteios de bingo de forma digital, sem necessidade de bolas físicas ou equipamentos especiais. Nossa ferramenta oferece sorteio aleatório, gerenciamento de participantes, controle de prêmios e registro de vencedores.</p>
    
    <h2>Por que usar um Sorteio de Bingo Online?</h2>
    <ul>
      <li><strong>100% Gratuito</strong> - Sem custos, sem cadastro, sem limites de uso</li>
      <li><strong>Funciona Offline</strong> - Use mesmo sem internet após carregar a página</li>
      <li><strong>Interface Moderna</strong> - Design profissional e fácil de usar</li>
      <li><strong>Gerenciamento Completo</strong> - Controle participantes, prêmios e vencedores</li>
      <li><strong>Exportação de Dados</strong> - Salve seus sorteios para backup</li>
      <li><strong>Sorteio Aleatório</strong> - Garantia de justiça e transparência</li>
      <li><strong>Sem Instalação</strong> - Funciona diretamente no navegador</li>
    </ul>
    
    <h2>Como fazer um Sorteio de Bingo Online Grátis?</h2>
    <ol>
      <li>Configure o número máximo de bolas (padrão: 75 bolas)</li>
      <li>Adicione os participantes do seu bingo na seção de gerenciamento</li>
      <li>Cadastre os prêmios disponíveis para o sorteio</li>
      <li>Clique em "Sortear bola" para iniciar o sorteio aleatório</li>
      <li>Registre os vencedores conforme as bolas são sorteadas</li>
      <li>Exporte os dados do sorteio para backup</li>
    </ol>
    
    <h2>Recursos do Sorteio de Bingo Online</h2>
    <h3>Sorteio Aleatório de Bolas</h3>
    <p>O sistema realiza sorteios completamente aleatórios, garantindo justiça e transparência em cada bola sorteada. O algoritmo garante que todas as bolas tenham a mesma probabilidade de serem sorteadas.</p>
    
    <h3>Histórico Completo</h3>
    <p>Acompanhe todas as bolas sorteadas em tempo real, com histórico completo do sorteio. Visualize as últimas bolas sorteadas e mantenha controle total sobre o progresso do bingo.</p>
    
    <h3>Gerenciamento de Prêmios</h3>
    <p>Cadastre e gerencie todos os prêmios do seu bingo, com registro automático de vencedores. Cada prêmio pode ser associado a um participante e a uma bola específica do sorteio.</p>
    
    <h3>Gerenciamento de Participantes</h3>
    <p>Adicione quantos participantes precisar, sem limites. Edite informações, adicione observações e acompanhe quantos prêmios cada participante ganhou.</p>
    
    <h2>Perguntas Frequentes sobre Sorteio de Bingo Online Grátis</h2>
    
    <h3>O sorteio de bingo online é realmente grátis?</h3>
    <p>Sim! Nosso <strong>sorteio de bingo online grátis</strong> é 100% gratuito, sem necessidade de cadastro, sem custos ocultos e sem limites de uso. Você pode usar quantas vezes quiser, sem restrições.</p>
    
    <h3>Preciso de internet para usar o sorteio de bingo?</h3>
    <p>Você precisa de internet apenas para carregar a página inicial. Após isso, o aplicativo funciona completamente offline, permitindo que você realize sorteios mesmo sem conexão com a internet.</p>
    
    <h3>Posso exportar os dados do sorteio?</h3>
    <p>Sim! Você pode exportar todos os dados do sorteio em formato JSON para backup ou uso posterior. Isso inclui participantes, prêmios, vencedores e histórico de bolas sorteadas.</p>
    
    <h3>Quantos participantes posso adicionar?</h3>
    <p>Não há limite de participantes. Você pode adicionar quantos participantes precisar para seu bingo, seja para eventos pequenos ou grandes.</p>
    
    <h3>O sorteio é realmente aleatório?</h3>
    <p>Sim! Utilizamos algoritmos de aleatoriedade para garantir que cada bola tenha a mesma probabilidade de ser sorteada, garantindo justiça e transparência no processo.</p>
    
    <h3>Posso usar em dispositivos móveis?</h3>
    <p>Sim! O <strong>sorteio de bingo online grátis</strong> é totalmente responsivo e funciona perfeitamente em smartphones, tablets e computadores.</p>
    
    <h2>Vantagens do Bingo Online Grátis</h2>
    <p>O <strong>sorteio de bingo online grátis</strong> oferece diversas vantagens sobre métodos tradicionais: economia de tempo, redução de custos, maior organização, transparência no processo de sorteio e facilidade de uso. Ideal para eventos corporativos, festas, arrecadações e muito mais.</p>
  </div>

  <div class="sparkles"></div>

  <!-- Breadcrumbs for SEO -->
  <nav aria-label="Breadcrumb" style="position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
    <ol itemscope itemtype="https://schema.org/BreadcrumbList">
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="https://seudominio.com">
          <span itemprop="name">Início</span>
        </a>
        <meta itemprop="position" content="1" />
      </li>
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <span itemprop="name">Sorteio de Bingo Online Grátis</span>
        <meta itemprop="position" content="2" />
      </li>
    </ol>
  </nav>

  <div class="app" id="app">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="titleWrap">
          <div class="title">Painel do Bingo</div>
          <div class="subtitle" id="subtitle">Pronto para começar</div>
        </div>
      </div>

      <div class="headerRight">
        <div class="pill" title="Status do sorteio">
          <div class="dot" id="statusDot"></div>
          <div>
            <strong id="statusText">Sorteio ativo</strong><br/>
            <span id="statusMeta">0 bolas sorteadas</span>
          </div>
        </div>

        <button class="btn ghost" id="btnFullscreen" type="button" title="Tela cheia">
          Tela cheia
        </button>
        <button class="btn" id="btnExport" type="button" title="Exportar dados do sorteio">
          Exportar
        </button>
        <button class="btn" id="btnImport" type="button" title="Importar dados">
          Importar
        </button>
        <button class="btn danger" id="btnReset" type="button" title="Zerar tudo (com confirmação)">
          Zerar
        </button>
      </div>
    </header>

    <div class="grid">
      <!-- TOP: Sorteio e Grade lado a lado -->
      <div class="drawingSection">
        <!-- LEFT: Sorteio (bola grande + controles) -->
        <section class="card">
          <div class="cardHeader">
            <div>
              <h2>Sorteio</h2>
              <p>Gerencie o sorteio e acompanhe as bolas em tempo real</p>
            </div>
            <div class="field">
              <label for="maxBall">Máximo</label>
              <input class="input small" id="maxBall" type="number" min="10" max="300" step="1" />
              <button class="btn" id="btnApplyMax" type="button">Aplicar</button>
            </div>
          </div>

          <div class="cardBody">
            <div class="stage">
              <div class="bigBallWrap">
                <div class="floaty" aria-hidden="true"></div>
                <div class="bigBall" id="bigBall">
                  <div class="bigBallNumber" id="bigBallNumber">--</div>
                </div>
                <div class="burst" id="burst" aria-hidden="true"></div>
              </div>

              <div class="controls">
                <button class="btn primary" id="btnDraw" type="button">Sortear bola</button>
                <button class="btn" id="btnUndo" type="button">Desfazer última</button>

                <div class="field">
                  <label for="manualBall">Manual</label>
                  <input class="input small" id="manualBall" type="number" min="1" step="1" placeholder="Nº" />
                  <button class="btn" id="btnAddManual" type="button">Adicionar</button>
                </div>

                <div class="field">
                  <label for="soundToggle">Som</label>
                  <select id="soundToggle">
                    <option value="on">Ligado</option>
                    <option value="off">Desligado</option>
                  </select>
                </div>

                <div class="field">
                  <label for="autoFocusLast">Destaque</label>
                  <select id="autoFocusLast">
                    <option value="on">Última bola</option>
                    <option value="off">Sem destaque</option>
                  </select>
                </div>

                <div class="field">
                  <label for="fastAnim">Animação</label>
                  <select id="fastAnim">
                    <option value="on">Curta</option>
                    <option value="off">Reduzida</option>
                  </select>
                </div>
              </div>

              <div class="hint">
                Atalhos: <span class="kbd">Espaço</span> sortear, <span class="kbd">Ctrl</span> + <span class="kbd">Z</span> desfazer, <span class="kbd">F</span> tela cheia.
                Tudo fica salvo automaticamente.
              </div>
            </div>
          </div>
        </section>

        <!-- RIGHT: Grade de bolas -->
        <section class="card">
          <div class="cardHeader">
            <div>
              <h2>Grade de bolas</h2>
              <p id="gridMeta">1 até 75</p>
            </div>
            <div class="historyBalls" id="historyBalls"></div>
          </div>
          <div class="cardBody" style="display:flex; flex-direction:column; min-height:0; overflow:hidden;">
            <div class="ballsGrid" id="ballsGrid" style="flex:1; min-height:0; overflow-y:auto; padding-right:4px;"></div>
          </div>
        </section>
      </div>

      <!-- BOTTOM: Prêmios e Participantes -->
      <aside class="card">
        <div class="cardHeader">
          <div>
            <h2>Prêmios e vencedores</h2>
            <p>Cadastre pessoas, prêmios e registre os vencedores</p>
          </div>
          <button class="btn primary" id="btnOpenManage" type="button">Gerenciar</button>
        </div>

        <div class="cardBody">
          <div class="listBox">
            <div class="listHeader">
              <strong>Vencedores</strong>
              <span id="winnersCount">0</span>
            </div>
            <div class="list" id="winnersList"></div>
          </div>

          <div class="hr"></div>

          <div class="twoCols">
            <div class="listBox">
              <div class="listHeader">
                <strong>Prêmios</strong>
                <span id="prizesCount">0</span>
              </div>
              <div class="list" id="prizesList"></div>
            </div>

            <div class="listBox">
              <div class="listHeader">
                <strong>Participantes</strong>
                <span id="peopleCount">0</span>
              </div>
              <div class="list" id="peopleList"></div>
            </div>
          </div>

          <div class="hr"></div>

          <div class="listBox">
            <div class="listHeader">
              <strong>Registrar vencedor</strong>
              <span class="tag note">premiação</span>
            </div>

            <div class="field" style="gap:10px; flex-direction:column; align-items:stretch;">
              <div class="field" style="justify-content:space-between;">
                <label for="pickPrize">Prêmio</label>
                <select id="pickPrize"></select>
              </div>
              <div class="field" style="justify-content:space-between;">
                <label for="pickPerson">Pessoa</label>
                <select id="pickPerson"></select>
              </div>

              <div class="field" style="justify-content:space-between;">
                <label for="winnerBall">Bola</label>
                <input class="input" id="winnerBall" type="number" min="1" step="1" placeholder="Opcional (ex: 42)" />
              </div>

              <div class="field" style="justify-content:flex-end;">
                <button class="btn primary" id="btnAddWinner" type="button">Registrar</button>
              </div>

              <div class="hint">
                Dica: se o prêmio já tiver vencedor, ele ficará bloqueado. Você pode remover um vencedor na lista acima.
              </div>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <div class="toast" id="toast">Salvo</div>

  <!-- Modal: Gerenciar participantes e prêmios -->
  <div class="modalOverlay" id="manageOverlay" role="dialog" aria-modal="true" aria-labelledby="manageTitle">
    <div class="modal">
      <div class="modalHeader">
        <b id="manageTitle">Gerenciar participantes e prêmios</b>
        <button class="btn" id="btnCloseManage" type="button">Fechar</button>
      </div>
      <div class="modalBody">
        <div class="twoCols">
          <div class="listBox">
            <div class="listHeader">
              <strong>Adicionar participante</strong>
              <span class="tag note">pessoas</span>
            </div>
            <div class="field" style="align-items:stretch; flex-direction:column;">
              <input class="input" id="newPersonName" type="text" placeholder="Nome da pessoa" />
              <input class="input" id="newPersonNote" type="text" placeholder="Observação (opcional)" />
              <div class="field" style="justify-content:flex-end;">
                <button class="btn primary" id="btnAddPerson" type="button">Adicionar</button>
              </div>
            </div>
            <div class="hint">
              Sugestão: use nomes curtos para ficar bonito no painel.
            </div>
          </div>

          <div class="listBox">
            <div class="listHeader">
              <strong>Adicionar prêmio</strong>
              <span class="tag note">prêmios</span>
            </div>
            <div class="field" style="align-items:stretch; flex-direction:column;">
              <input class="input" id="newPrizeTitle" type="text" placeholder="Título do prêmio" />
              <input class="input" id="newPrizeDesc" type="text" placeholder="Descrição (opcional)" />
              <div class="field" style="justify-content:flex-end;">
                <button class="btn primary" id="btnAddPrize" type="button">Adicionar</button>
              </div>
            </div>
            <div class="hint">
              Ex.: “Folga 1h”, “Vale lanche”, “Day off”, “Saída mais cedo”.
            </div>
          </div>
        </div>

        <div class="hr"></div>

        <div class="twoCols">
          <div class="listBox">
            <div class="listHeader">
              <strong>Editar / remover participantes</strong>
              <span id="peopleCount2">0</span>
            </div>
            <div class="list" id="peopleManageList"></div>
          </div>

          <div class="listBox">
            <div class="listHeader">
              <strong>Editar / remover prêmios</strong>
              <span id="prizesCount2">0</span>
            </div>
            <div class="list" id="prizesManageList"></div>
          </div>
        </div>
      </div>

      <div class="modalFooter">
        <button class="btn" id="btnDemoData" type="button">Inserir dados de exemplo</button>
        <button class="btn danger" id="btnReset2" type="button">Zerar tudo</button>
      </div>
    </div>
  </div>

  <!-- Modal: Confirm reset -->
  <div class="modalOverlay" id="resetOverlay" role="dialog" aria-modal="true" aria-labelledby="resetTitle">
    <div class="modal">
      <div class="modalHeader">
        <b id="resetTitle">Zerar tudo</b>
        <button class="btn" id="btnCloseReset" type="button">Cancelar</button>
      </div>
      <div class="modalBody">
        <p style="margin:0; color:var(--muted); font-size:12px; line-height:1.5">
          Isso apaga: bolas sorteadas, participantes, prêmios e vencedores. A ação não pode ser desfeita.
        </p>
        <div class="hr"></div>
        <div class="field" style="justify-content:space-between;">
          <label for="resetConfirm">Digite</label>
          <input class="input" id="resetConfirm" type="text" placeholder="ZERAR" />
        </div>
        <div class="hint">
          Para confirmar, digite <span class="kbd">ZERAR</span>.
        </div>
      </div>
      <div class="modalFooter">
        <button class="btn danger" id="btnDoReset" type="button" disabled>Confirmar e zerar</button>
      </div>
    </div>
  </div>

  <!-- Hidden file input for import -->
  <input type="file" id="importFile" accept="application/json" style="display:none" />

  <script>
    (function(){
      "use strict";

      const STORAGE_KEY = "bingo_painel_state_v1";

      const $ = (id) => document.getElementById(id);

      const el = {
        subtitle: $("subtitle"),
        statusDot: $("statusDot"),
        statusText: $("statusText"),
        statusMeta: $("statusMeta"),

        btnFullscreen: $("btnFullscreen"),
        btnDraw: $("btnDraw"),
        btnUndo: $("btnUndo"),
        btnAddManual: $("btnAddManual"),
        manualBall: $("manualBall"),
        maxBall: $("maxBall"),
        btnApplyMax: $("btnApplyMax"),

        bigBall: $("bigBall"),
        bigBallNumber: $("bigBallNumber"),
        burst: $("burst"),

        ballsGrid: $("ballsGrid"),
        gridMeta: $("gridMeta"),

        historyBalls: $("historyBalls"),

        soundToggle: $("soundToggle"),
        autoFocusLast: $("autoFocusLast"),
        fastAnim: $("fastAnim"),

        peopleList: $("peopleList"),
        prizesList: $("prizesList"),
        winnersList: $("winnersList"),
        peopleCount: $("peopleCount"),
        prizesCount: $("prizesCount"),
        winnersCount: $("winnersCount"),

        pickPrize: $("pickPrize"),
        pickPerson: $("pickPerson"),
        winnerBall: $("winnerBall"),
        btnAddWinner: $("btnAddWinner"),

        btnOpenManage: $("btnOpenManage"),
        manageOverlay: $("manageOverlay"),
        btnCloseManage: $("btnCloseManage"),
        newPersonName: $("newPersonName"),
        newPersonNote: $("newPersonNote"),
        btnAddPerson: $("btnAddPerson"),
        newPrizeTitle: $("newPrizeTitle"),
        newPrizeDesc: $("newPrizeDesc"),
        btnAddPrize: $("btnAddPrize"),
        peopleManageList: $("peopleManageList"),
        prizesManageList: $("prizesManageList"),
        peopleCount2: $("peopleCount2"),
        prizesCount2: $("prizesCount2"),

        btnReset: $("btnReset"),
        btnReset2: $("btnReset2"),
        resetOverlay: $("resetOverlay"),
        btnCloseReset: $("btnCloseReset"),
        resetConfirm: $("resetConfirm"),
        btnDoReset: $("btnDoReset"),

        toast: $("toast"),

        btnExport: $("btnExport"),
        btnImport: $("btnImport"),
        importFile: $("importFile"),
        btnDemoData: $("btnDemoData"),
      };

      const uid = () => Math.random().toString(16).slice(2) + Date.now().toString(16);

      const defaultState = () => ({
        maxBall: 75,
        drawn: [], // numbers in order
        people: [], // {id,name,note,createdAt}
        prizes: [], // {id,title,desc,createdAt}
        winners: [], // {id, prizeId, personId, ballNumber|null, createdAt}
        settings: {
          sound: "on",
          autoFocusLast: "on",
          fastAnim: "on"
        },
        meta: {
          createdAt: Date.now(),
          updatedAt: Date.now()
        }
      });

      let state = loadState();

      function loadState(){
        try{
          const raw = localStorage.getItem(STORAGE_KEY);
          if(!raw) return defaultState();
          const parsed = JSON.parse(raw);

          // merge with defaults to avoid missing keys
          const d = defaultState();
          const s = {
            ...d,
            ...parsed,
            settings: {...d.settings, ...(parsed.settings || {})},
            meta: {...d.meta, ...(parsed.meta || {})}
          };

          // sanitize
          s.maxBall = clampInt(s.maxBall, 10, 300, 75);
          s.drawn = Array.isArray(s.drawn) ? s.drawn.filter(n => isValidBall(n, s.maxBall)) : [];
          s.people = Array.isArray(s.people) ? s.people : [];
          s.prizes = Array.isArray(s.prizes) ? s.prizes : [];
          s.winners = Array.isArray(s.winners) ? s.winners : [];
          return s;
        }catch(e){
          return defaultState();
        }
      }

      let toastTimer = null;
      function saveState(showToast=true){
        state.meta.updatedAt = Date.now();
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        if(showToast) toast("Salvo");
      }

      function toast(msg){
        el.toast.textContent = msg;
        el.toast.classList.add("show");
        clearTimeout(toastTimer);
        toastTimer = setTimeout(()=> el.toast.classList.remove("show"), 900);
      }

      function clampInt(v, min, max, fallback){
        const n = Number(v);
        if(!Number.isFinite(n)) return fallback;
        const i = Math.trunc(n);
        if(i < min) return min;
        if(i > max) return max;
        return i;
      }

      function isValidBall(n, max){
        return Number.isInteger(n) && n >= 1 && n <= max;
      }

      function hasBall(n){
        return state.drawn.includes(n);
      }

      function remainingBalls(){
        const rem = [];
        for(let i=1;i<=state.maxBall;i++){
          if(!hasBall(i)) rem.push(i);
        }
        return rem;
      }

      function drawRandomBall(){
        const rem = remainingBalls();
        if(rem.length === 0) return null;
        const idx = Math.floor(Math.random()*rem.length);
        return rem[idx];
      }

      function playBeep(){
        if(state.settings.sound !== "on") return;
        try{
          const ctx = new (window.AudioContext || window.webkitAudioContext)();
          const o = ctx.createOscillator();
          const g = ctx.createGain();
          o.type = "triangle";
          o.frequency.value = 640;
          g.gain.value = 0.0001;
          o.connect(g);
          g.connect(ctx.destination);
          o.start();
          g.gain.exponentialRampToValueAtTime(0.16, ctx.currentTime + 0.02);
          o.frequency.exponentialRampToValueAtTime(900, ctx.currentTime + 0.10);
          g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.22);
          o.stop(ctx.currentTime + 0.24);
          setTimeout(()=>ctx.close(), 450);
        }catch(e){}
      }

      function celebrationBurst(){
        const container = el.burst;
        container.innerHTML = "";
        const count = 14;
        for(let i=0;i<count;i++){
          const p = document.createElement("i");
          const ang = (Math.PI*2)*(i/count);
          const dist = 80 + Math.random()*40;
          const dx = Math.cos(ang)*dist;
          const dy = Math.sin(ang)*dist;
          p.style.setProperty("--dx", dx.toFixed(0)+"px");
          p.style.setProperty("--dy", dy.toFixed(0)+"px");
          p.style.background = pickBurstColor(i);
          p.style.borderRadius = Math.random() > .55 ? "2px" : "999px";
          p.style.width = (6 + Math.random()*6).toFixed(0)+"px";
          p.style.height = (6 + Math.random()*6).toFixed(0)+"px";
          p.style.animationDelay = (Math.random()*40).toFixed(0)+"ms";
          container.appendChild(p);
        }
      }

      function pickBurstColor(i){
        const colors = ["#ffffff", "#7cc7ff", "#b27cff", "#7cffb2", "#ffd37c", "#ff7c9b"];
        return colors[i % colors.length];
      }

      function setBigBall(n){
        el.bigBallNumber.textContent = n ? String(n) : "--";

        if(state.settings.fastAnim === "on"){
          el.bigBall.classList.remove("pop");
          void el.bigBall.offsetWidth;
          el.bigBall.classList.add("pop");
        }
      }

      function render(){
        // header status
        const drawnCount = state.drawn.length;
        const remCount = state.maxBall - drawnCount;

        el.statusMeta.textContent = drawnCount + " bolas sorteadas";
        if(remCount === 0){
          el.statusText.textContent = "Finalizado";
          el.statusDot.className = "dot bad";
          el.subtitle.textContent = "Todas as bolas foram sorteadas";
        }else if(drawnCount === 0){
          el.statusText.textContent = "Sorteio ativo";
          el.statusDot.className = "dot";
          el.subtitle.textContent = "Pronto para começar";
        }else{
          el.statusText.textContent = "Sorteio em andamento";
          el.statusDot.className = "dot warn";
          el.subtitle.textContent = "Restam " + remCount + " bolas";
        }

        // inputs/settings
        el.maxBall.value = state.maxBall;
        el.soundToggle.value = state.settings.sound;
        el.autoFocusLast.value = state.settings.autoFocusLast;
        el.fastAnim.value = state.settings.fastAnim;

        // big ball
        const last = state.drawn.length ? state.drawn[state.drawn.length-1] : null;
        setBigBall(last);

        // grid meta
        el.gridMeta.textContent = "1 até " + state.maxBall;

        // buttons
        el.btnDraw.disabled = (remCount === 0);
        el.btnUndo.disabled = (drawnCount === 0);

        // balls grid
        renderBallsGrid(last);

        // history
        renderHistory();

        // people/prizes/winners
        renderPeoplePrizesWinners();

        // selects for winner register
        renderWinnerSelects();

        // manage modal lists
        renderManageLists();
      }

      function renderBallsGrid(last){
        const frag = document.createDocumentFragment();
        for(let i=1;i<=state.maxBall;i++){
          const d = document.createElement("div");
          d.className = "ball" + (hasBall(i) ? " drawn" : "") + (i===last && state.settings.autoFocusLast==="on" ? " last" : "");
          d.textContent = i;
          d.title = hasBall(i) ? "Sorteada" : "Não sorteada";
          d.addEventListener("click", ()=>{
            // click toggles manual add/remove with safety
            if(hasBall(i)){
              openUndoTo(i);
            }else{
              addBall(i, true);
            }
          });
          frag.appendChild(d);
        }
        el.ballsGrid.innerHTML = "";
        el.ballsGrid.appendChild(frag);
      }

      function renderHistory(){
        const container = el.historyBalls;
        container.innerHTML = "";

        if(state.drawn.length === 0){
          return;
        }

        // Mostrar apenas as últimas 3 bolas (excluindo a última que está na bola grande)
        const maxShow = 3;
        const slice = state.drawn.slice(-(maxShow + 1), -1).reverse();

        slice.forEach((n)=>{
          const ball = document.createElement("div");
          ball.className = "historyBall";
          ball.textContent = n;
          ball.title = "Bola " + n;
          container.appendChild(ball);
        });
      }

      function renderRemaining(){
        const rem = remainingBalls();
        el.remainingCount.textContent = String(rem.length);

        const list = el.remainingList;
        list.innerHTML = "";

        if(rem.length === 0){
          list.appendChild(emptyItem("Nenhuma bola restante", "Sorteio concluído"));
          return;
        }

        // show first 60 remaining
        const maxShow = 60;
        rem.slice(0, maxShow).forEach((n)=>{
          const item = document.createElement("div");
          item.className = "item";
          item.innerHTML = `
            <div class="main">
              <b>${n}</b>
              <small>Disponível</small>
            </div>
            <div class="rowActions">
              <button class="btn" type="button" data-add="${n}">Adicionar</button>
            </div>
          `;
          item.querySelector("[data-add]").addEventListener("click", ()=> addBall(n, true));
          list.appendChild(item);
        });

        if(rem.length > maxShow){
          const more = document.createElement("div");
          more.className = "hint";
          more.textContent = "Mostrando " + maxShow + " de " + rem.length + " bolas restantes.";
          list.appendChild(more);
        }
      }

      function renderPeoplePrizesWinners(){
        el.peopleCount.textContent = String(state.people.length);
        el.prizesCount.textContent = String(state.prizes.length);
        el.winnersCount.textContent = String(state.winners.length);

        // people
        el.peopleList.innerHTML = "";
        if(state.people.length === 0){
          el.peopleList.appendChild(emptyItem("Sem participantes", "Abra Gerenciar e adicione pessoas"));
        }else{
          state.people.slice().sort((a,b)=> a.name.localeCompare(b.name, "pt-BR")).forEach(p=>{
            const wins = state.winners.filter(w=>w.personId===p.id).length;
            const item = document.createElement("div");
            item.className = "item";
            item.innerHTML = `
              <div class="main">
                <b>${escapeHtml(p.name)}</b>
                <small>${p.note ? escapeHtml(p.note) + " · " : ""}${wins ? wins + " prêmio(s)" : "sem prêmios"}</small>
              </div>
              <span class="tag">${wins ? "vencedor" : "participando"}</span>
            `;
            el.peopleList.appendChild(item);
          });
        }

        // prizes
        el.prizesList.innerHTML = "";
        if(state.prizes.length === 0){
          el.prizesList.appendChild(emptyItem("Sem prêmios", "Abra Gerenciar e adicione prêmios"));
        }else{
          state.prizes.slice().sort((a,b)=> a.title.localeCompare(b.title, "pt-BR")).forEach(pr=>{
            const winner = state.winners.find(w=>w.prizeId===pr.id);
            const item = document.createElement("div");
            item.className = "item";
            item.innerHTML = `
              <div class="main">
                <b>${escapeHtml(pr.title)}</b>
                <small>${pr.desc ? escapeHtml(pr.desc) : "Sem descrição"}</small>
              </div>
              <span class="tag ${winner ? "prize" : ""}">${winner ? "premiado" : "disponível"}</span>
            `;
            el.prizesList.appendChild(item);
          });
        }

        // winners
        el.winnersList.innerHTML = "";
        if(state.winners.length === 0){
          el.winnersList.appendChild(emptyItem("Sem vencedores", "Registre um vencedor usando o formulário abaixo"));
        }else{
          // newest first
          state.winners.slice().sort((a,b)=> b.createdAt - a.createdAt).forEach(w=>{
            const pr = state.prizes.find(p=>p.id===w.prizeId);
            const pe = state.people.find(p=>p.id===w.personId);
            const prizeTitle = pr ? pr.title : "Prêmio removido";
            const personName = pe ? pe.name : "Pessoa removida";
            const ballTxt = w.ballNumber ? (" · bola " + w.ballNumber) : "";
            const item = document.createElement("div");
            item.className = "item";
            item.innerHTML = `
              <div class="main">
                <b>${escapeHtml(personName)}</b>
                <small><span style="color:var(--warn); font-weight:800">${escapeHtml(prizeTitle)}</span>${escapeHtml(ballTxt)}</small>
              </div>
              <div class="rowActions">
                <span class="tag win">vencedor</span>
                <button class="btn danger" type="button" data-del="${w.id}">Remover</button>
              </div>
            `;
            item.querySelector("[data-del]").addEventListener("click", ()=>{
              removeWinner(w.id);
            });
            el.winnersList.appendChild(item);
          });
        }
      }

      function renderWinnerSelects(){
        // prize select: only prizes without a winner
        const assigned = new Set(state.winners.map(w=>w.prizeId));
        const availablePrizes = state.prizes.filter(p=>!assigned.has(p.id))
          .slice().sort((a,b)=> a.title.localeCompare(b.title, "pt-BR"));

        // people select: all people
        const people = state.people.slice().sort((a,b)=> a.name.localeCompare(b.name, "pt-BR"));

        fillSelect(el.pickPrize, availablePrizes.map(p=>({value:p.id, label:p.title})), "Selecione um prêmio");
        fillSelect(el.pickPerson, people.map(p=>({value:p.id, label:p.name})), "Selecione uma pessoa");

        el.btnAddWinner.disabled = (availablePrizes.length===0 || people.length===0);
      }

      function fillSelect(select, options, placeholder){
        const current = select.value;
        select.innerHTML = "";
        const ph = document.createElement("option");
        ph.value = "";
        ph.textContent = placeholder;
        ph.disabled = true;
        ph.selected = true;
        select.appendChild(ph);

        options.forEach(o=>{
          const opt = document.createElement("option");
          opt.value = o.value;
          opt.textContent = o.label;
          select.appendChild(opt);
        });

        // try restore if still valid
        if(current && options.some(o=>o.value===current)){
          select.value = current;
        }
      }

      function renderManageLists(){
        el.peopleCount2.textContent = String(state.people.length);
        el.prizesCount2.textContent = String(state.prizes.length);

        el.peopleManageList.innerHTML = "";
        if(state.people.length === 0){
          el.peopleManageList.appendChild(emptyItem("Nenhum participante cadastrado", "Adicione acima"));
        }else{
          state.people.slice().sort((a,b)=> a.name.localeCompare(b.name, "pt-BR")).forEach(p=>{
            const wins = state.winners.filter(w=>w.personId===p.id).length;
            const item = document.createElement("div");
            item.className = "item";
            item.innerHTML = `
              <div class="main">
                <b contenteditable="true" data-edit-person-name="${p.id}">${escapeHtml(p.name)}</b>
                <small contenteditable="true" data-edit-person-note="${p.id}">${escapeHtml(p.note || "Sem observação")}</small>
              </div>
              <div class="rowActions">
                <span class="tag">${wins ? wins + " prêmio(s)" : "0 prêmios"}</span>
                <button class="btn danger" type="button" data-remove-person="${p.id}">Remover</button>
              </div>
            `;
            // remove
            item.querySelector("[data-remove-person]").addEventListener("click", ()=> removePerson(p.id));
            // inline edits
            wireInlineEdit(item, "person", p.id);
            el.peopleManageList.appendChild(item);
          });
        }

        el.prizesManageList.innerHTML = "";
        if(state.prizes.length === 0){
          el.prizesManageList.appendChild(emptyItem("Nenhum prêmio cadastrado", "Adicione acima"));
        }else{
          state.prizes.slice().sort((a,b)=> a.title.localeCompare(b.title, "pt-BR")).forEach(pr=>{
            const winner = state.winners.find(w=>w.prizeId===pr.id);
            const item = document.createElement("div");
            item.className = "item";
            item.innerHTML = `
              <div class="main">
                <b contenteditable="true" data-edit-prize-title="${pr.id}">${escapeHtml(pr.title)}</b>
                <small contenteditable="true" data-edit-prize-desc="${pr.id}">${escapeHtml(pr.desc || "Sem descrição")}</small>
              </div>
              <div class="rowActions">
                <span class="tag ${winner ? "prize" : ""}">${winner ? "premiado" : "livre"}</span>
                <button class="btn danger" type="button" data-remove-prize="${pr.id}" ${winner ? "disabled" : ""}>Remover</button>
              </div>
            `;
            const btn = item.querySelector("[data-remove-prize]");
            btn.addEventListener("click", ()=> removePrize(pr.id));
            wireInlineEdit(item, "prize", pr.id);
            el.prizesManageList.appendChild(item);
          });
        }
      }

      function wireInlineEdit(container, type, id){
        const nameSel = type==="person" ? `[data-edit-person-name="${id}"]` : `[data-edit-prize-title="${id}"]`;
        const noteSel = type==="person" ? `[data-edit-person-note="${id}"]` : `[data-edit-prize-desc="${id}"]`;
        const nameEl = container.querySelector(nameSel);
        const noteEl = container.querySelector(noteSel);

        const handler = () => {
          if(type==="person"){
            const p = state.people.find(x=>x.id===id);
            if(!p) return;
            const newName = cleanText(nameEl.textContent, 60);
            const newNote = cleanText(noteEl.textContent, 90, true);
            p.name = newName || p.name;
            p.note = newNote === "Sem observação" ? "" : newNote;
          }else{
            const pr = state.prizes.find(x=>x.id===id);
            if(!pr) return;
            const newTitle = cleanText(nameEl.textContent, 70);
            const newDesc = cleanText(noteEl.textContent, 120, true);
            pr.title = newTitle || pr.title;
            pr.desc = newDesc === "Sem descrição" ? "" : newDesc;
          }
          saveState(false);
          toast("Atualizado");
          // rerender dependent areas (selects etc)
          render();
        };

        // debounce a bit
        let t = null;
        const onInput = () => {
          clearTimeout(t);
          t = setTimeout(handler, 450);
        };

        nameEl.addEventListener("input", onInput);
        noteEl.addEventListener("input", onInput);

        nameEl.addEventListener("blur", handler);
        noteEl.addEventListener("blur", handler);
      }

      function cleanText(txt, maxLen, allowEmpty=false){
        const t = (txt || "").replace(/\s+/g, " ").trim();
        if(!t && allowEmpty) return "";
        return t.slice(0, maxLen);
      }

      function escapeHtml(str){
        return String(str || "")
          .replaceAll("&","&amp;")
          .replaceAll("<","&lt;")
          .replaceAll(">","&gt;")
          .replaceAll('"',"&quot;")
          .replaceAll("'","&#039;");
      }

      function emptyItem(title, desc){
        const d = document.createElement("div");
        d.className = "item";
        d.innerHTML = `
          <div class="main">
            <b>${escapeHtml(title)}</b>
            <small>${escapeHtml(desc)}</small>
          </div>
          <span class="tag note">info</span>
        `;
        return d;
      }

      function addBall(n, fromUI=false){
        n = Number(n);
        if(!isValidBall(n, state.maxBall)){
          toast("Número inválido");
          return;
        }
        if(hasBall(n)){
          toast("Essa bola já saiu");
          return;
        }
        state.drawn.push(n);
        saveState(false);

        const last = n;
        setBigBall(last);
        if(fromUI){
          playBeep();
          celebrationBurst();
        }
        render();
      }

      function undoLast(){
        if(state.drawn.length === 0) return;
        state.drawn.pop();
        saveState(false);
        toast("Desfeito");
        render();
      }

      function openUndoTo(ballNumber){
        // if clicked on an already drawn ball, allow undo only if it's the last one
        const last = state.drawn[state.drawn.length-1];
        if(ballNumber !== last){
          toast("Só dá para desfazer a última bola");
          return;
        }
        undoLast();
      }

      function addPerson(name, note){
        const n = cleanText(name, 60);
        if(!n){ toast("Informe um nome"); return; }
        const exists = state.people.some(p => p.name.toLowerCase() === n.toLowerCase());
        if(exists){ toast("Esse nome já existe"); return; }

        state.people.push({id: uid(), name: n, note: cleanText(note, 90, true), createdAt: Date.now()});
        saveState(false);
        toast("Participante adicionado");
        render();
      }

      function removePerson(id){
        // remove related winners too
        const had = state.winners.some(w=>w.personId===id);
        state.people = state.people.filter(p=>p.id!==id);
        if(had){
          state.winners = state.winners.filter(w=>w.personId!==id);
        }
        saveState(false);
        toast("Participante removido");
        render();
      }

      function addPrize(title, desc){
        const t = cleanText(title, 70);
        if(!t){ toast("Informe um prêmio"); return; }
        const exists = state.prizes.some(p => p.title.toLowerCase() === t.toLowerCase());
        if(exists){ toast("Esse prêmio já existe"); return; }

        state.prizes.push({id: uid(), title: t, desc: cleanText(desc, 120, true), createdAt: Date.now()});
        saveState(false);
        toast("Prêmio adicionado");
        render();
      }

      function removePrize(id){
        // if has winner, block
        if(state.winners.some(w=>w.prizeId===id)){
          toast("Esse prêmio já foi sorteado");
          return;
        }
        state.prizes = state.prizes.filter(p=>p.id!==id);
        saveState(false);
        toast("Prêmio removido");
        render();
      }

      function addWinner(prizeId, personId, ballNumber){
        if(!prizeId || !personId){
          toast("Selecione prêmio e pessoa");
          return;
        }
        if(state.winners.some(w=>w.prizeId===prizeId)){
          toast("Esse prêmio já tem vencedor");
          return;
        }
        const pr = state.prizes.find(p=>p.id===prizeId);
        const pe = state.people.find(p=>p.id===personId);
        if(!pr || !pe){
          toast("Prêmio ou pessoa inválidos");
          return;
        }

        let bn = null;
        if(ballNumber !== null && ballNumber !== undefined && String(ballNumber).trim() !== ""){
          const n = Number(ballNumber);
          if(Number.isInteger(n) && n >= 1 && n <= state.maxBall){
            bn = n;
          }else{
            toast("Bola do vencedor inválida");
            return;
          }
        }

        state.winners.push({id: uid(), prizeId, personId, ballNumber: bn, createdAt: Date.now()});
        saveState(false);
        playBeep();
        celebrationBurst();
        toast("Vencedor registrado");
        // clear
        el.winnerBall.value = "";
        el.pickPrize.value = "";
        el.pickPerson.value = "";
        render();
      }

      function removeWinner(id){
        state.winners = state.winners.filter(w=>w.id!==id);
        saveState(false);
        toast("Vencedor removido");
        render();
      }

      function applyMaxBall(newMax){
        const m = clampInt(newMax, 10, 300, state.maxBall);
        if(m === state.maxBall){
          toast("Sem mudanças");
          return;
        }
        // if reducing, remove invalid drawn and invalid winners ball references
        state.maxBall = m;
        state.drawn = state.drawn.filter(n => isValidBall(n, m));
        state.winners = state.winners.map(w => ({
          ...w,
          ballNumber: (w.ballNumber && isValidBall(w.ballNumber, m)) ? w.ballNumber : null
        }));
        saveState(false);
        toast("Máximo atualizado");
        render();
      }

      function openManage(show=true){
        el.manageOverlay.classList.toggle("show", !!show);
        if(show){
          el.newPersonName.focus();
        }
      }

      function openReset(show=true){
        el.resetConfirm.value = "";
        el.btnDoReset.disabled = true;
        el.resetOverlay.classList.toggle("show", !!show);
        if(show) el.resetConfirm.focus();
      }

      function hardReset(){
        state = defaultState();
        saveState(false);
        toast("Zerado");
        openReset(false);
        openManage(false);
        render();
      }

      function toggleFullscreen(){
        const doc = document;
        if(!doc.fullscreenElement){
          doc.documentElement.requestFullscreen?.();
        }else{
          doc.exitFullscreen?.();
        }
      }

      function exportState(){
        const payload = {
          exportedAt: new Date().toISOString(),
          state
        };
        const blob = new Blob([JSON.stringify(payload, null, 2)], {type:"application/json"});
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "bingo-export.json";
        document.body.appendChild(a);
        a.click();
        a.remove();
        setTimeout(()=>URL.revokeObjectURL(a.href), 800);
        toast("Exportado");
      }

      function importStateFromFile(file){
        const reader = new FileReader();
        reader.onload = () => {
          try{
            const payload = JSON.parse(String(reader.result || ""));
            const incoming = payload && payload.state ? payload.state : payload;
            if(!incoming) throw new Error("Formato inválido");

            // merge + sanitize
            const d = defaultState();
            state = {
              ...d,
              ...incoming,
              settings: {...d.settings, ...(incoming.settings || {})},
              meta: {...d.meta, ...(incoming.meta || {})}
            };
            state.maxBall = clampInt(state.maxBall, 10, 300, 75);
            state.drawn = Array.isArray(state.drawn) ? state.drawn.filter(n => isValidBall(n, state.maxBall)) : [];
            state.people = Array.isArray(state.people) ? state.people : [];
            state.prizes = Array.isArray(state.prizes) ? state.prizes : [];
            state.winners = Array.isArray(state.winners) ? state.winners : [];

            saveState(false);
            toast("Importado");
            render();
          }catch(e){
            toast("Falha ao importar");
          }
        };
        reader.readAsText(file);
      }

      function insertDemoData(){
        // only if empty-ish
        if(state.people.length || state.prizes.length || state.winners.length || state.drawn.length){
          toast("Use com a tela zerada");
          return;
        }
        state.people = [
          {id: uid(), name:"Ana", note:"Equipe A", createdAt: Date.now()},
          {id: uid(), name:"Bruno", note:"Equipe B", createdAt: Date.now()},
          {id: uid(), name:"Carla", note:"Conteúdo", createdAt: Date.now()},
          {id: uid(), name:"Diego", note:"Dev", createdAt: Date.now()},
          {id: uid(), name:"Ester", note:"Comercial", createdAt: Date.now()},
        ];
        state.prizes = [
          {id: uid(), title:"Saída 1h mais cedo", desc:"Vale para hoje", createdAt: Date.now()},
          {id: uid(), title:"Folga 1 turno", desc:"Combinar com liderança", createdAt: Date.now()},
          {id: uid(), title:"Vale lanche", desc:"R$ 30", createdAt: Date.now()},
          {id: uid(), title:"Day off", desc:"A agendar", createdAt: Date.now()},
        ];
        saveState(false);
        toast("Exemplo inserido");
        render();
      }

      // Events
      el.btnDraw.addEventListener("click", ()=>{
        const n = drawRandomBall();
        if(n === null){
          toast("Sem bolas restantes");
          return;
        }
        addBall(n, true);
      });

      el.btnUndo.addEventListener("click", ()=> undoLast());

      el.btnAddManual.addEventListener("click", ()=>{
        const n = clampInt(el.manualBall.value, 1, state.maxBall, NaN);
        if(!Number.isFinite(n)){ toast("Informe um número"); return; }
        addBall(n, true);
        el.manualBall.value = "";
        el.manualBall.focus();
      });

      el.manualBall.addEventListener("keydown", (e)=>{
        if(e.key === "Enter") el.btnAddManual.click();
      });

      el.btnApplyMax.addEventListener("click", ()=> applyMaxBall(el.maxBall.value));

      el.soundToggle.addEventListener("change", ()=>{
        state.settings.sound = el.soundToggle.value;
        saveState(false);
        toast("Config atualizada");
      });
      el.autoFocusLast.addEventListener("change", ()=>{
        state.settings.autoFocusLast = el.autoFocusLast.value;
        saveState(false);
        toast("Config atualizada");
        render();
      });
      el.fastAnim.addEventListener("change", ()=>{
        state.settings.fastAnim = el.fastAnim.value;
        saveState(false);
        toast("Config atualizada");
      });

      el.btnOpenManage.addEventListener("click", ()=> openManage(true));
      el.btnCloseManage.addEventListener("click", ()=> openManage(false));

      el.manageOverlay.addEventListener("click", (e)=>{
        if(e.target === el.manageOverlay) openManage(false);
      });

      el.btnAddPerson.addEventListener("click", ()=>{
        addPerson(el.newPersonName.value, el.newPersonNote.value);
        el.newPersonName.value = "";
        el.newPersonNote.value = "";
        el.newPersonName.focus();
      });

      el.btnAddPrize.addEventListener("click", ()=>{
        addPrize(el.newPrizeTitle.value, el.newPrizeDesc.value);
        el.newPrizeTitle.value = "";
        el.newPrizeDesc.value = "";
        el.newPrizeTitle.focus();
      });

      el.btnAddWinner.addEventListener("click", ()=>{
        addWinner(el.pickPrize.value, el.pickPerson.value, el.winnerBall.value);
      });

      el.btnFullscreen.addEventListener("click", ()=> toggleFullscreen());

      // Reset
      el.btnReset.addEventListener("click", ()=> openReset(true));
      el.btnReset2.addEventListener("click", ()=> openReset(true));
      el.btnCloseReset.addEventListener("click", ()=> openReset(false));
      el.resetOverlay.addEventListener("click", (e)=>{
        if(e.target === el.resetOverlay) openReset(false);
      });
      el.resetConfirm.addEventListener("input", ()=>{
        el.btnDoReset.disabled = (el.resetConfirm.value.trim().toUpperCase() !== "ZERAR");
      });
      el.btnDoReset.addEventListener("click", ()=> hardReset());

      // Export/Import
      el.btnExport.addEventListener("click", ()=> exportState());
      el.btnImport.addEventListener("click", ()=> el.importFile.click());
      el.importFile.addEventListener("change", ()=>{
        const f = el.importFile.files && el.importFile.files[0];
        if(f) importStateFromFile(f);
        el.importFile.value = "";
      });

      el.btnDemoData.addEventListener("click", ()=> insertDemoData());

      // Keyboard shortcuts
      window.addEventListener("keydown", (e)=>{
        const tag = (e.target && e.target.tagName || "").toLowerCase();
        const typing = (tag === "input" || tag === "textarea" || tag === "select" || e.target?.isContentEditable);

        if(e.key === " " && !typing){
          e.preventDefault();
          el.btnDraw.click();
        }
        if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "z" && !typing){
          e.preventDefault();
          undoLast();
        }
        if(e.key.toLowerCase() === "f" && !typing){
          toggleFullscreen();
        }
        if(e.key === "Escape"){
          openManage(false);
          openReset(false);
        }
      });

      // Close fullscreen label update
      document.addEventListener("fullscreenchange", ()=>{
        if(document.fullscreenElement){
          el.btnFullscreen.textContent = "Sair da tela cheia";
        }else{
          el.btnFullscreen.textContent = "Tela cheia";
        }
      });

      // First render
      render();

      // Small startup toast (only once per session)
      setTimeout(()=>toast("Tudo pronto"), 250);

    })();
  </script>
</body>
</html>
